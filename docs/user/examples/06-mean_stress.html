
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>6. Mean stress effect &#8212; py-fatigue Documentation (1.0.18)</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">

  
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/autoclasstoc.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script>window.MathJax = {"chtml": {"mtextInheritFont": "true"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user/examples/06-mean_stress';</script>
    <link rel="shortcut icon" href="../../_static/owi-lab.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="7. Stress-Life damage calculation" href="07-damage.html" />
    <link rel="prev" title="5. CycleCount sum" href="05-cycle_count_sum.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../index.html">

  
  
  
  
  
  
  

  
    <img src="../../_static/py-fatigue-logo.png" class="logo__image only-light" alt="Logo image">
    <img src="../../_static/py-fatigue-logo.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class=" navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../01-absolute-noob.html">
                        Beginners’ guide
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="../02-user-guide.html">
                        User’s guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../additional/01-index.html">
                        Glossary and guidelines
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../api/01-index.html">
                        API index
                    </a>
                </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                    <a class="nav-link" href="../../develop/00-index.html">
                        CI/CD Development
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../ado/01-index.html">
                        Azure DevOps services
                    </a>
                </li>
                

            <li class="nav-item">
                <a class="nav-link nav-external" href="https://github.com/OWI-Lab/py_fatigue/blob/main/CHANGELOG.md">Changelog<i class="fa-solid fa-up-right-from-square"></i></a>
            </li>

            <li class="nav-item">
                <a class="nav-link nav-external" href="https://pydata.org">PyData<i class="fa-solid fa-up-right-from-square"></i></a>
            </li>
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" data-toggle="tooltip">
    <a class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="fa-regular fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/owi-lab/py_fatigue" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/py-fatigue/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-solid fa-box"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/owi-lab" title="LinkedIn" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="../../_static/_img/linkedin.png" class="icon-link-image" alt="LinkedIn"/></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          <a href="https://www.owi-lab.be" title="OWI-Lab" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="../../_static/_img/owi-lab.png" class="icon-link-image" alt="OWI-Lab"/></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
  </div>

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../01-absolute-noob.html">
                        Beginners’ guide
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="../02-user-guide.html">
                        User’s guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../additional/01-index.html">
                        Glossary and guidelines
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../api/01-index.html">
                        API index
                    </a>
                </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                    <a class="nav-link" href="../../develop/00-index.html">
                        CI/CD Development
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../ado/01-index.html">
                        Azure DevOps services
                    </a>
                </li>
                

            <li class="nav-item">
                <a class="nav-link nav-external" href="https://github.com/OWI-Lab/py_fatigue/blob/main/CHANGELOG.md">Changelog<i class="fa-solid fa-up-right-from-square"></i></a>
            </li>

            <li class="nav-item">
                <a class="nav-link nav-external" href="https://pydata.org">PyData<i class="fa-solid fa-up-right-from-square"></i></a>
            </li>
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" data-toggle="tooltip">
    <a class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="fa-regular fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/owi-lab/py_fatigue" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://pypi.org/project/py-fatigue/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-solid fa-box"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          <a href="https://www.linkedin.com/company/owi-lab" title="LinkedIn" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="../../_static/_img/linkedin.png" class="icon-link-image" alt="LinkedIn"/></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          <a href="https://www.owi-lab.be" title="OWI-Lab" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="../../_static/_img/owi-lab.png" class="icon-link-image" alt="OWI-Lab"/></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <p aria-level="2" class="caption" role="heading"><span class="caption-text">User's guide</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01-notebook_setup.html">1. Set up a notebook running <em>py-fatigue</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="02-sn_curve.html">2. SN curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-cg_curve.html">3. Crack growth curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-cycle_counting.html">4. CycleCount definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-cycle_count_sum.html">5. CycleCount sum</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">6. Mean stress effect</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-damage.html">7. Stress-Life damage calculation</a></li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>
      <main class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="mean-stress-effect">
<span id="id1"></span><h1>6. Mean stress effect<a class="headerlink" href="#mean-stress-effect" title="Permalink to this heading">#</a></h1>
<p>Fatigue is cyclic loading fracture. Cyclic loading contain load variation from
minimum to maximum and this cycle repeats fornumber of times. When minimum and
maximum load is same in magnitude but opposite in direction like tension and
compressionor heating and cooling, then mean stress is zero. But when min and
maxi load are not identical in magnitude then it contain someamount of residual
stress which is called as mean stress. Mean stress affect the fatigue life of
component. Generally positive ormean stress in tension has bad effect on
component. Its life get reduced as mean stress get increased.
But if mean stress is incompression then it increases the life of component</p>
<p>Structural members subjected to in-service cyclic loads exhibit a fatigue
behavior that generally depends on the mean stress values. Mean stress is
generally taken as average of minimum stress and maximum stress. Mean stress in
cyclic loading plays important role. For a given fatigue load range a tensile
mean normal stress has a detrimental effect on fatigue strength, whereas,
in general, a compressive mean normal stress has a beneficial effect.
The problem of the mean stress effect on fatigue life has been approached
practically by developing empirical relationships. For metals and alloys,
various criteria have been proposed to deal with the mean stress effect on
fatigue life.</p>
<p>In <cite>py-fatigue</cite> the mean stress effect can be compensated by using any of the
following models:</p>
<ul class="simple">
<li><p>DNVGL-RP-C203;</p></li>
<li><p>Walker;</p></li>
<li><p>Smith-Watson-Topper.</p></li>
</ul>
<section id="dnvgl-rp-c203-correction">
<h2>DNVGL-RP-C203 correction<a class="headerlink" href="#dnvgl-rp-c203-correction" title="Permalink to this heading">#</a></h2>
<p>Calculates the mean stress correction according to par.
2.5 of <a class="reference external" href="https://bit.ly/3dUZ1OY">DNVGL-RP-C203</a> which includes
an attenuation factor <span class="math notranslate nohighlight">\(p\)</span> for the stress ranges if the
following cases:</p>
<ul class="simple">
<li><p>base material without significant residual stresses
<span class="math notranslate nohighlight">\(\rightarrow p = 0.6\)</span>. This option neglects fully
compressive cycles.</p></li>
<li><p>welded connections without significant residual stresses
<span class="math notranslate nohighlight">\(\rightarrow p = 0.8\)</span>. This option multiplies the
stress range of fully compressive cycles by p.</p></li>
</ul>
<p>Given that the stress ranges are <span class="math notranslate nohighlight">\(\Delta \sigma\)</span>,
the corrected stress ranges are:</p>
<div class="math notranslate nohighlight">
\[\Delta \sigma_{corr} = f_m \cdot \Delta \sigma\]</div>
<p>where:</p>
<div class="math notranslate nohighlight">
\[f_m = \frac{\sigma_{max} + p \cdot \vert \sigma_{min}
\vert}{\sigma_{max} + \vert\sigma_{min} \vert}\]</div>
<p>with:</p>
<div class="math notranslate nohighlight">
\[\frac{\sigma_a}{\vert \sigma_m \vert} \leq 1, \quad
\sigma_a = \frac{\sigma_{max} - \sigma_{min}}{2} \,\land
\, \sigma_m = \frac{\sigma_{max} + \sigma_{min}}{2}\]</div>
</section>
<section id="walker-correction">
<h2>Walker correction<a class="headerlink" href="#walker-correction" title="Permalink to this heading">#</a></h2>
<p>Calculates the mean stress correction according to Walker model.</p>
<p>The correction is given by:</p>
<div class="math notranslate nohighlight">
\[\Delta \sigma_{corr} = {\sigma_{max}} ^ {(1 - \gamma)} \,
\sigma_{alt} ^ {\gamma}\]</div>
<p>with:</p>
<div class="math notranslate nohighlight">
\[\sigma_{max} = \sigma_{mean} + \sigma_{alt}\]</div>
</section>
<section id="smith-watson-topper">
<h2>Smith-Watson-Topper<a class="headerlink" href="#smith-watson-topper" title="Permalink to this heading">#</a></h2>
<p>Calculates the mean stress correction according to
Smith-Watson-Topper model. It is equivalent to the Walker model
with gamma = 0.5.</p>
<p>The correction is given by:</p>
<div class="math notranslate nohighlight">
\[\Delta \sigma_{corr} = \sqrt{\sigma_{max} \, \sigma_{alt}}\]</div>
<p>with:</p>
<div class="math notranslate nohighlight">
\[\sigma_{max} = \sigma_{mean} + \sigma_{alt}\]</div>
</section>
<section id="a-constant-signal">
<h2>a. Constant signal<a class="headerlink" href="#a-constant-signal" title="Permalink to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this example we define a fatigue stress signal in the form
of a sinusoidal function and calculate the damage using the
<a class="reference internal" href="../additional/glossary.html#term-Palmgren-Miner-Rule"><span class="xref std std-term">Palmgren-Miner Rule</span></a>.</p>
<p>We then feed our signal to the <code class="xref py py-class docutils literal notranslate"><span class="pre">CycleCount</span></code> class.</p>
</div>
<p>Define the time and stress arrays</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">t</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">10.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># (in seconds)</span>
<span class="n">s</span> <span class="o">=</span> <span class="mi">200</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">t</span><span class="p">)</span> <span class="o">+</span> <span class="mi">100</span>   <span class="c1"># (in MPa)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;time, s&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;stress, MPa&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/sine_wave.png" src="../../_images/sine_wave.png" />
<p>Define the CycleCount instance</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cc</span> <span class="o">=</span> <span class="n">pf</span><span class="o">.</span><span class="n">CycleCount</span><span class="o">.</span><span class="n">from_timeseries</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Example&quot;</span><span class="p">)</span>
<span class="n">cc</span>
</pre></div>
</div>
<table class="table" id="id2">
<caption><span class="caption-text">CycleCount from constant time series</span><a class="headerlink" href="#id2" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Example</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Cycle counting object</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>largest full stress range, MPa,</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-even"><td><p>largest stress range, MPa</p></td>
<td><p>400.0</p></td>
</tr>
<tr class="row-odd"><td><p>number of full cycles</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>number of residuals</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-odd"><td><p>number of small cycles</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>stress concentration factor</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>residuals resolved</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td><p>mean stress-corrected</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<p>Apply the DNVGL-RP-C203 mean stress effect correction</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cc_corr_6</span> <span class="o">=</span> <span class="n">cc</span><span class="o">.</span><span class="n">mean_stress_correction</span><span class="p">(</span>
  <span class="n">correction_type</span> <span class="o">=</span> <span class="s2">&quot;DNVGL-RP-C203&quot;</span><span class="p">,</span>
  <span class="n">plot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
  <span class="n">detail_factor</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">cc_corr_8</span> <span class="o">=</span> <span class="n">cc</span><span class="o">.</span><span class="n">mean_stress_correction</span><span class="p">(</span>
  <span class="n">correction_type</span> <span class="o">=</span> <span class="s2">&quot;DNVGL-RP-C203&quot;</span><span class="p">,</span>
  <span class="n">plot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
  <span class="n">detail_factor</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">cc_corr_6</span>
</pre></div>
</div>
<img alt="../../_images/msc6_from_sine_wave.png" src="../../_images/msc6_from_sine_wave.png" />
<img alt="../../_images/msc8_from_sine_wave.png" src="../../_images/msc8_from_sine_wave.png" />
<table class="table" id="id3">
<caption><span class="caption-text">CycleCount from constant time series</span><a class="headerlink" href="#id3" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>Example</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Cycle counting object</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>largest full stress range, MPa,</p></td>
<td><p>None</p></td>
</tr>
<tr class="row-even"><td><p>largest stress range, MPa</p></td>
<td><p>360</p></td>
</tr>
<tr class="row-odd"><td><p>number of full cycles</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>number of residuals</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-odd"><td><p>number of small cycles</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>stress concentration factor</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>residuals resolved</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>mean stress-corrected</p></td>
<td><p>DNVGL-RP-C203: {‘detail_factor’: 0.6}</p></td>
</tr>
</tbody>
</table>
</section>
<section id="b-normally-distributed-signal">
<h2>b. Normally-distributed signal<a class="headerlink" href="#b-normally-distributed-signal" title="Permalink to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this example we define a fatigue stress signal in the form
of a sinusoidal function and calculate the damage using the
<a class="reference internal" href="../additional/glossary.html#term-Palmgren-Miner-Rule"><span class="xref std std-term">Palmgren-Miner Rule</span></a>.</p>
<p>We then feed our signal to the <code class="xref py py-class docutils literal notranslate"><span class="pre">CycleCount</span></code> class.</p>
</div>
<p>Define the time and stress arrays</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">py_fatigue.testing</span> <span class="k">as</span> <span class="nn">test</span>

<span class="n">time</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">get_sampled_time</span><span class="p">(</span><span class="n">duration</span><span class="o">=</span><span class="mi">604800</span><span class="p">,</span> <span class="n">fs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># 1 week</span>
<span class="n">stress</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">get_random_data</span><span class="p">(</span>
  <span class="n">t</span><span class="o">=</span><span class="n">time</span><span class="p">,</span> <span class="n">min_</span><span class="o">=-</span><span class="mi">40</span><span class="p">,</span> <span class="n">range_</span><span class="o">=</span><span class="mi">220</span><span class="p">,</span> <span class="n">random_type</span><span class="o">=</span><span class="s2">&quot;normal&quot;</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="mf">1.</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span>
<span class="p">)</span>
<span class="c1"># Generating the timeseries dictionary</span>
<span class="n">timeseries</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">stress</span><span class="p">,</span>
  <span class="s2">&quot;time&quot;</span><span class="p">:</span> <span class="n">time</span><span class="p">,</span>
  <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">tzinfo</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">timezone</span><span class="o">.</span><span class="n">utc</span><span class="p">),</span>
  <span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;One week time series&quot;</span><span class="p">,</span>
  <span class="s2">&quot;range_bin_width&quot;</span><span class="p">:</span>  <span class="mf">5.0</span><span class="p">,</span>
  <span class="s2">&quot;mean_bin_width&quot;</span><span class="p">:</span>  <span class="mf">5.0</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1"># concatenated timeseries plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">time</span> <span class="o">/</span> <span class="mi">86400</span><span class="p">,</span> <span class="n">stress</span><span class="p">,</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Time, days&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Signal, MPa&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/norm_signal.png" src="../../_images/norm_signal.png" />
<p>Define the CycleCount instance</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cc</span> <span class="o">=</span> <span class="n">pf</span><span class="o">.</span><span class="n">CycleCount</span><span class="o">.</span><span class="n">from_timeseries</span><span class="p">(</span><span class="o">**</span><span class="n">timeseries</span><span class="p">)</span>
<span class="n">cc</span>
</pre></div>
</div>
<table class="table" id="id4">
<caption><span class="caption-text">CycleCount from normally-distributed time series</span><a class="headerlink" href="#id4" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>One week time series</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Cycle counting object</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>largest full stress range, MPa,</p></td>
<td><p>217.197668</p></td>
</tr>
<tr class="row-even"><td><p>largest stress range, MPa</p></td>
<td><p>220.0</p></td>
</tr>
<tr class="row-odd"><td><p>number of full cycles</p></td>
<td><p>201509</p></td>
</tr>
<tr class="row-even"><td><p>number of residuals</p></td>
<td><p>21</p></td>
</tr>
<tr class="row-odd"><td><p>number of small cycles</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>stress concentration factor</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>residuals resolved</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td><p>mean stress-corrected</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<section id="dnvgl-rp-c203-mean-stress-effect-correction">
<h3>DNVGL-RP-C203 mean stress effect correction<a class="headerlink" href="#dnvgl-rp-c203-mean-stress-effect-correction" title="Permalink to this heading">#</a></h3>
<p>Apply the DNVGL-RP-C203 mean stress effect correction</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cc_corr_6</span> <span class="o">=</span> <span class="n">cc</span><span class="o">.</span><span class="n">mean_stress_corrections</span><span class="p">(</span>
  <span class="n">correction_type</span> <span class="o">=</span> <span class="s2">&quot;DNVGL-RP-C203&quot;</span><span class="p">,</span>
  <span class="n">plot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
  <span class="n">detail_factor</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">cc_corr_8</span> <span class="o">=</span> <span class="n">cc</span><span class="o">.</span><span class="n">mean_stress_correction</span><span class="p">(</span>
  <span class="n">correction_type</span> <span class="o">=</span> <span class="s2">&quot;DNVGL-RP-C203&quot;</span><span class="p">,</span>
  <span class="n">plot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
  <span class="n">detail_factor</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">cc_corr_6</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If mean stress correction is performed in the contest of long-term fatigue
analysis, please perform the sum of multiple CycleCount instances prior mean
stress correction (MSC).</p>
<p>In fact, applying the MSC before summing into long-term CycleCount instance
results in non-conservative life estimates, as after MSC, low-frequency
fatigue cannot be estimated accurately.</p>
</div>
<table class="table" id="id5">
<caption><span class="caption-text">DNVGL Mean stress-corrected CycleCount from normally-distributed time series</span><a class="headerlink" href="#id5" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>One week time series</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Cycle counting object</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>largest full stress range, MPa,</p></td>
<td><p>202.194963</p></td>
</tr>
<tr class="row-even"><td><p>largest stress range, MPa</p></td>
<td><p>204.0</p></td>
</tr>
<tr class="row-odd"><td><p>number of full cycles</p></td>
<td><p>201509</p></td>
</tr>
<tr class="row-even"><td><p>number of residuals</p></td>
<td><p>21</p></td>
</tr>
<tr class="row-odd"><td><p>number of small cycles</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>stress concentration factor</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>residuals resolved</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>mean stress-corrected</p></td>
<td><p>DNVGL-RP-C203: {‘detail_factor’: 0.6}</p></td>
</tr>
</tbody>
</table>
<img alt="../../_images/msc6_from_norm_signal.png" src="../../_images/msc6_from_norm_signal.png" />
<img alt="../../_images/msc8_from_norm_signal.png" src="../../_images/msc8_from_norm_signal.png" />
</section>
<section id="walker-mean-stress-effect-correction">
<h3>Walker mean stress effect correction<a class="headerlink" href="#walker-mean-stress-effect-correction" title="Permalink to this heading">#</a></h3>
<p>Apply the Walker mean stress effect correction</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cc_corr_walk</span> <span class="o">=</span> <span class="n">cc</span><span class="o">.</span><span class="n">mean_stress_correction</span><span class="p">(</span>
  <span class="n">correction_type</span> <span class="o">=</span> <span class="s2">&quot;walker&quot;</span><span class="p">,</span>
  <span class="n">plot</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
  <span class="n">gamma</span><span class="o">=</span><span class="mf">0.6</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">cc_corr_walk</span>
</pre></div>
</div>
<table class="table" id="id6">
<caption><span class="caption-text">Walker Mean stress-corrected CycleCount from normally-distributed time series</span><a class="headerlink" href="#id6" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50.0%" />
<col style="width: 50.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"><p>One week time series</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Cycle counting object</p></th>
<th class="head"></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>largest full stress range, MPa,</p></td>
<td><p>132.832864</p></td>
</tr>
<tr class="row-even"><td><p>largest stress range, MPa</p></td>
<td><p>133.950585</p></td>
</tr>
<tr class="row-odd"><td><p>number of full cycles</p></td>
<td><p>201509</p></td>
</tr>
<tr class="row-even"><td><p>number of residuals</p></td>
<td><p>21</p></td>
</tr>
<tr class="row-odd"><td><p>number of small cycles</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>stress concentration factor</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-odd"><td><p>residuals resolved</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>mean stress-corrected</p></td>
<td><p>WALKER: {‘gamma’: 0.6}</p></td>
</tr>
</tbody>
</table>
<img alt="../../_images/mscwalker_from_norm_signal.png" src="../../_images/mscwalker_from_norm_signal.png" />
</section>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="05-cycle_count_sum.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">5. CycleCount sum</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="07-damage.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">7. Stress-Life damage calculation</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dnvgl-rp-c203-correction">
   DNVGL-RP-C203 correction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#walker-correction">
   Walker correction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#smith-watson-topper">
   Smith-Watson-Topper
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-constant-signal">
   a. Constant signal
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#b-normally-distributed-signal">
   b. Normally-distributed signal
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dnvgl-rp-c203-mean-stress-effect-correction">
     DNVGL-RP-C203 mean stress effect correction
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#walker-mean-stress-effect-correction">
     Walker mean stress effect correction
    </a>
   </li>
  </ul>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="../../_sources/user/examples/06-mean_stress.rst.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536"></script>
 
  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
</div>
  </footer>

    <style>
        @import url('https://fonts.googleapis.com/css?family=JetBrains%20Mono');
        /* Sidebar header (and topbar for mobile) */
        .wy-side-nav-search, .wy-nav-top {
        background: #A9BCC8;
        }
        /* Sidebar */
        .wy-nav-side {
        background: #384263;
        }
        .toctree-l1:hover .wy-menu {
            background: #3D66A1;
        }
        /* Main content */
        .wy-nav-content {
        background: #FFFFFF;
        }
        .wy-menu .wy-menu-vertical{
            display: block;
            top: -10px;
            margin-right: -25%;
        }
        
        .toctree-l1 li ul li:first-child a {
            border-radius: 4px 4px 0 0;
        }
        .toctree-l1 li ul li:last-child a {
            border-radius: 0 0 4px 4px;
        }
    </style>

  </body>
</html>