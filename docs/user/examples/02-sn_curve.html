
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>2. SN curve &#8212; py-fatigue Documentation (1.0.7)</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=1e1de1a1873e13ef5536" rel="stylesheet">

  
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/6.1.2/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/autoclasstoc.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script>window.MathJax = {"chtml": {"mtextInheritFont": "true"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'user/examples/02-sn_curve';</script>
    <link rel="shortcut icon" href="../../_static/owi-lab.png"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="3. Crack growth curve" href="03-cg_curve.html" />
    <link rel="prev" title="1. Set up a notebook running py-fatigue" href="01-notebook_setup.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../../index.html">

  
  
  
  
  
  
  

  
    <img src="../../_static/py-fatigue-logo.png" class="logo__image only-light" alt="Logo image">
    <img src="../../_static/py-fatigue-logo.png" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class=" navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../01-absolute-noob.html">
                        Beginners’ guide
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="../02-user-guide.html">
                        User’s guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../additional/01-index.html">
                        Glossary and guidelines
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../api/01-index.html">
                        API index
                    </a>
                </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                    <a class="nav-link" href="../../develop/00-index.html">
                        CI/CD Development
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../ado/01-index.html">
                        Azure DevOps services
                    </a>
                </li>
                

            <li class="nav-item">
                <a class="nav-link nav-external" href="https://github.com/">Changelog<i class="fa-solid fa-up-right-from-square"></i></a>
            </li>

            <li class="nav-item">
                <a class="nav-link nav-external" href="https://pydata.org">PyData<i class="fa-solid fa-up-right-from-square"></i></a>
            </li>
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      <div class="navbar-end-item navbar-end__search-button-container">
        
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
      </div>
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" data-toggle="tooltip">
    <a class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="fa-regular fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://pypi.org/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-solid fa-box"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          <a href="https://www.owi-lab.be" title="OWI-Lab" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="../../_static/_img/owi-lab.png" class="icon-link-image" alt="OWI-Lab"/></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>


  
  <div class="search-button-container--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
  </div>

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                <li class="nav-item">
                    <a class="nav-link" href="../01-absolute-noob.html">
                        Beginners’ guide
                    </a>
                </li>
                

                <li class="nav-item current active">
                    <a class="nav-link" href="../02-user-guide.html">
                        User’s guide
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../additional/01-index.html">
                        Glossary and guidelines
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../api/01-index.html">
                        API index
                    </a>
                </li>
                
            <div class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    More
                </button>
                <div class="dropdown-menu">
                    
                <li class="nav-item">
                    <a class="nav-link" href="../../develop/00-index.html">
                        CI/CD Development
                    </a>
                </li>
                

                <li class="nav-item">
                    <a class="nav-link" href="../../ado/01-index.html">
                        Azure DevOps services
                    </a>
                </li>
                

            <li class="nav-item">
                <a class="nav-link nav-external" href="https://github.com/">Changelog<i class="fa-solid fa-up-right-from-square"></i></a>
            </li>

            <li class="nav-item">
                <a class="nav-link nav-external" href="https://pydata.org">PyData<i class="fa-solid fa-up-right-from-square"></i></a>
            </li>
                </div>
            </div>
            
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <span class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" data-toggle="tooltip">
    <a class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="fa-regular fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://github.com/" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-github"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://twitter.com/" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-brands fa-square-twitter"></i></span>
            <label class="sr-only">Twitter</label></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          <a href="https://pypi.org/" title="PyPI" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><span><i class="fa-solid fa-box"></i></span>
            <label class="sr-only">PyPI</label></a>
        </li>
        <li class="nav-item">
            
          
          
          
          
          
          
          
          
          <a href="https://www.owi-lab.be" title="OWI-Lab" class="nav-link" rel="noopener" target="_blank" data-toggle="tooltip"><img src="../../_static/_img/owi-lab.png" class="icon-link-image" alt="OWI-Lab"/></a>
        </li>
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Section navigation">
  <p class="bd-links__title" role="heading" aria-level="1">
    Section Navigation
  </p>
  <div class="bd-toc-item navbar-nav">
    <p aria-level="2" class="caption" role="heading"><span class="caption-text">User's guide</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="01-notebook_setup.html">1. Set up a notebook running <em>py-fatigue</em></a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">2. SN curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="03-cg_curve.html">3. Crack growth curve</a></li>
<li class="toctree-l1"><a class="reference internal" href="04-cycle_counting.html">4. CycleCount definition</a></li>
<li class="toctree-l1"><a class="reference internal" href="05-cycle_count_sum.html">5. CycleCount sum</a></li>
<li class="toctree-l1"><a class="reference internal" href="06-mean_stress.html">6. Mean stress effect</a></li>
<li class="toctree-l1"><a class="reference internal" href="07-damage.html">7. Stress-Life damage calculation</a></li>
</ul>

  </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

      </div>
      <main class="bd-main">
        
        
        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                
            </div>
            
            
            <article class="bd-article" role="main">
              
  <section id="sn-curve">
<span id="id1"></span><h1>2. SN curve<a class="headerlink" href="#sn-curve" title="Permalink to this heading">#</a></h1>
<p>The first reference to the fatigue of metals dates to 1829 when Poncelet, a
French military engineer, used the adjective “tired” to describe steels under
stress and assumed that steel components experience a decrease of durability
when they undergo repeated variable loads. In 1837, the first document in
history relating to a fatigue test was published. The test was recorded by
Albert a German mining administrator, and it was aimed to understand the
causes of the failure of the conveyor chains in the Clausthal mines in 1829.
In 1843, Rankine and York focused their attention on railway axles, thanks to
the establishment of the Her Majesty’s Railway Inspectorate instituted because
of the increasing number of accidents, amongst which the so-called Versailles
disaster, where almost 60 people lost their lives because of the failure of the
axle tree of the first engine on 5 October 1842. Anyway, the term fatigue was
coined only in 1854 by the Englishman Braithwite, who discussed the fatigue
failures of multiple components as water pumps, brewery equipment, and of
course, railway axles. Many other English and German studies on the
deterioration of railway axles were made in those years, but the work of
Wöhler, Royal “Obermaschinenmeister” of the “Niederschlesisch-Mährische”
Railways in Frankfurt an der Oder, was the milestone paving the way for the
modern conception of fatigue testing and interpretation of results. In 1858 and
1860, August Wöhler measured, for 22 000 km, the service loads of railway
axles with deflection gages personally developed and from his studies
concluded that “If we estimate the durability of the axles to be 200,000
miles with respect to wear of the journal bearings, it is therefore only
necessary that it withstands 200,000 bending cycles of the magnitude measured
without failure.” Such statement represents the first suggestion for a safe
life design philosophy with retirement time (or distance travelled). Wöhler
then calculated the stresses deriving from service loads and concluded that
the higher the stress amplitude is, the more detrimental influence on the
axle will be, plus a tensile mean stress anticipates the rupture.
Furthermore, he even stated that a replacement of the axle would have been
necessary if radial flaws propagated up to 20 mm into the material, and this
procedure could be interpreted as an ancestor of the flaw tolerant safe life
methodology. Anyway, test results of Wöhler were tabulated and not plotted
until 1875, when Spangenberg adopted unusual linear axes to present these
data. Furthermore, stress versus number of cycles (S/N) curves were addressed
as Wöhler curves only in 1936 by Kloth and Stroppel. The idea to plot many
fatigue test data, including the 60-year-old experiments of Wöhler, in
logarithmic axes and interpolate them with a power law is from 1910 by
Basquin. The equation relating maximum or alternate stress with the number of
cycles is</p>
<div class="math notranslate nohighlight">
\[N \cdot \left( \Delta \sigma \right)^m = \bar{a}\]</div>
<p>where:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(N\)</span> = predicted number of cycles to failure for stress range Δσ;</p></li>
<li><p><span class="math notranslate nohighlight">\(\Delta \sigma\)</span> = stress range with unit MPa;</p></li>
<li><p><span class="math notranslate nohighlight">\(m\)</span> = negative inverse slope of S-N curve;</p></li>
<li><p><span class="math notranslate nohighlight">\(\log \left( \bar{a} \right)\)</span> = intercept of log N-axis by S-N curve.</p></li>
</ul>
<section id="a-multiple-sn-curves">
<h2>a. Multiple SN curves<a class="headerlink" href="#a-multiple-sn-curves" title="Permalink to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this example we define four SN curves for free corrosion as per
<a class="reference external" href="shorturl.at/ipBKL">DNVGL-RP-C203</a> and plot them using
<a class="reference external" href="https://matplotlib.org">matplotlib</a> and <a class="reference external" href="https://plotly.com">plotly</a>.
We additionally define a random gaussian stress range-cycles history to
plot against the SN curves defined.</p>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">#SN curves definition</span>
<span class="linenos"> 2</span><span class="n">b1_c</span> <span class="o">=</span> <span class="n">sn</span><span class="o">.</span><span class="n">SNCurve</span><span class="p">(</span>
<span class="linenos"> 3</span>    <span class="n">slope</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>                       <span class="c1"># SNCurve can handle multiple slope and</span>
<span class="linenos"> 4</span>    <span class="n">intercept</span><span class="o">=</span><span class="mf">12.436</span><span class="p">,</span>              <span class="c1"># intercept types, as long as their sizes</span>
<span class="linenos"> 5</span>    <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;DNVGL-RP-C203&#39;</span><span class="p">,</span>          <span class="c1"># are compatible. The slope and intercept</span>
<span class="linenos"> 6</span>    <span class="n">environment</span><span class="o">=</span><span class="s1">&#39;Free corrosion&#39;</span><span class="p">,</span>  <span class="c1"># attribute will be stored as numpy arrays.</span>
<span class="linenos"> 7</span>    <span class="n">curve</span><span class="o">=</span><span class="s1">&#39;B1&#39;</span>
<span class="linenos"> 8</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="n">c_c</span> <span class="o">=</span> <span class="n">sn</span><span class="o">.</span><span class="n">SNCurve</span><span class="p">(</span>
<span class="linenos">10</span>    <span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="linenos">11</span>    <span class="mf">12.115</span><span class="p">,</span>
<span class="linenos">12</span>    <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;DNVGL-RP-C203&#39;</span><span class="p">,</span>
<span class="linenos">13</span>    <span class="n">environment</span><span class="o">=</span><span class="s1">&#39;Free corrosion&#39;</span><span class="p">,</span>
<span class="linenos">14</span>    <span class="n">curve</span><span class="o">=</span><span class="s1">&#39;C&#39;</span>
<span class="linenos">15</span><span class="p">)</span>
<span class="linenos">16</span><span class="n">e_c</span> <span class="o">=</span> <span class="n">sn</span><span class="o">.</span><span class="n">SNCurve</span><span class="p">(</span>
<span class="linenos">17</span>    <span class="mi">3</span><span class="p">,</span>
<span class="linenos">18</span>    <span class="n">intercept</span><span class="o">=</span><span class="p">[</span><span class="mf">11.533</span><span class="p">,],</span>
<span class="linenos">19</span>    <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;DNVGL-RP-C203&#39;</span><span class="p">,</span>
<span class="linenos">20</span>    <span class="n">environment</span><span class="o">=</span><span class="s1">&#39;Free corrosion&#39;</span><span class="p">,</span>
<span class="linenos">21</span>    <span class="n">curve</span><span class="o">=</span><span class="s1">&#39;E&#39;</span>
<span class="linenos">22</span><span class="p">)</span>
<span class="linenos">23</span><span class="n">w3_c</span> <span class="o">=</span> <span class="n">sn</span><span class="o">.</span><span class="n">SNCurve</span><span class="p">(</span>
<span class="linenos">24</span>    <span class="p">[</span><span class="mi">3</span><span class="p">],</span>
<span class="linenos">25</span>    <span class="n">intercept</span><span class="o">=</span><span class="p">[</span><span class="mf">10.493</span><span class="p">,],</span>
<span class="linenos">26</span>    <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;DNVGL-RP-C203&#39;</span><span class="p">,</span>
<span class="linenos">27</span>    <span class="n">environment</span><span class="o">=</span><span class="s1">&#39;Free corrosion&#39;</span><span class="p">,</span>
<span class="linenos">28</span>    <span class="n">curve</span><span class="o">=</span><span class="s1">&#39;E&#39;</span>
<span class="linenos">29</span><span class="p">)</span>
</pre></div>
</div>
<p>This check on slopes and intercepts shows that they are alrays stored as numpy
1darrays.</p>
<p>Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;b1_c.slope: </span><span class="si">{</span><span class="n">b1_c</span><span class="o">.</span><span class="n">slope</span><span class="si">}</span><span class="s1">, b1_c.intercept: </span><span class="si">{</span><span class="n">b1_c</span><span class="o">.</span><span class="n">intercept</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 2</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;type(b1_c.slope): </span><span class="si">{0}</span><span class="s1">, type(b1_c.intercept): </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<span class="linenos"> 3</span>    <span class="nb">type</span><span class="p">(</span><span class="n">b1_c</span><span class="o">.</span><span class="n">slope</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">b1_c</span><span class="o">.</span><span class="n">intercept</span><span class="p">)</span>
<span class="linenos"> 4</span>    <span class="p">)</span>
<span class="linenos"> 5</span><span class="p">)</span>
<span class="linenos"> 6</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;c_c.slope: </span><span class="si">{</span><span class="n">c_c</span><span class="o">.</span><span class="n">slope</span><span class="si">}</span><span class="s1">, c_c.intercept: </span><span class="si">{</span><span class="n">c_c</span><span class="o">.</span><span class="n">intercept</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;type(c_c.slope): </span><span class="si">{0}</span><span class="s1">, type(c_c.intercept): </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<span class="linenos"> 8</span>    <span class="nb">type</span><span class="p">(</span><span class="n">c_c</span><span class="o">.</span><span class="n">slope</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">c_c</span><span class="o">.</span><span class="n">intercept</span><span class="p">)</span>
<span class="linenos"> 9</span>    <span class="p">)</span>
<span class="linenos">10</span><span class="p">)</span>
<span class="linenos">11</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;e_c.slope: </span><span class="si">{</span><span class="n">e_c</span><span class="o">.</span><span class="n">slope</span><span class="si">}</span><span class="s1">, e_c.intercept: </span><span class="si">{</span><span class="n">e_c</span><span class="o">.</span><span class="n">intercept</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">12</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;type(e_c.slope): </span><span class="si">{0}</span><span class="s1">, type(e_c.intercept): </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<span class="linenos">13</span>    <span class="nb">type</span><span class="p">(</span><span class="n">e_c</span><span class="o">.</span><span class="n">slope</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">e_c</span><span class="o">.</span><span class="n">intercept</span><span class="p">)</span>
<span class="linenos">14</span>    <span class="p">)</span>
<span class="linenos">15</span><span class="p">)</span>
<span class="linenos">16</span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;w3_c.slope: </span><span class="si">{</span><span class="n">w3_c</span><span class="o">.</span><span class="n">slope</span><span class="si">}</span><span class="s1">, w3_c.intercept: </span><span class="si">{</span><span class="n">w3_c</span><span class="o">.</span><span class="n">intercept</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="linenos">17</span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;type(w3_c.slope): </span><span class="si">{0}</span><span class="s1">, type(w3_c.intercept): </span><span class="si">{1}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<span class="linenos">18</span>    <span class="nb">type</span><span class="p">(</span><span class="n">w3_c</span><span class="o">.</span><span class="n">slope</span><span class="p">),</span> <span class="nb">type</span><span class="p">(</span><span class="n">w3_c</span><span class="o">.</span><span class="n">intercept</span><span class="p">)</span>
<span class="linenos">19</span>    <span class="p">)</span>
<span class="linenos">20</span><span class="p">)</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>b1_c.slope: <span class="o">[</span><span class="m">3</span><span class="o">]</span>, b1_c.intercept: <span class="o">[</span><span class="m">12</span>.436<span class="o">]</span>
type<span class="o">(</span>b1_c.slope<span class="o">)</span>: &lt;class <span class="s1">&#39;numpy.ndarray&#39;</span>&gt;, type<span class="o">(</span>b1_c.intercept<span class="o">)</span>: &lt;class <span class="s1">&#39;numpy.ndarray&#39;</span>&gt;
c_c.slope: <span class="o">[</span><span class="m">3</span><span class="o">]</span>, c_c.intercept: <span class="o">[</span><span class="m">12</span>.115<span class="o">]</span>
type<span class="o">(</span>c_c.slope<span class="o">)</span>: &lt;class <span class="s1">&#39;numpy.ndarray&#39;</span>&gt;, type<span class="o">(</span>c_c.intercept<span class="o">)</span>: &lt;class <span class="s1">&#39;numpy.ndarray&#39;</span>&gt;
e_c.slope: <span class="o">[</span><span class="m">3</span><span class="o">]</span>, e_c.intercept: <span class="o">[</span><span class="m">11</span>.533<span class="o">]</span>
type<span class="o">(</span>e_c.slope<span class="o">)</span>: &lt;class <span class="s1">&#39;numpy.ndarray&#39;</span>&gt;, type<span class="o">(</span>e_c.intercept<span class="o">)</span>: &lt;class <span class="s1">&#39;numpy.ndarray&#39;</span>&gt;
w3_c.slope: <span class="o">[</span><span class="m">3</span><span class="o">]</span>, w3_c.intercept: <span class="o">[</span><span class="m">10</span>.493<span class="o">]</span>
type<span class="o">(</span>w3_c.slope<span class="o">)</span>: &lt;class <span class="s1">&#39;numpy.ndarray&#39;</span>&gt;, type<span class="o">(</span>w3_c.intercept<span class="o">)</span>: &lt;class <span class="s1">&#39;numpy.ndarray&#39;</span>&gt;
</pre></div>
</div>
<p>Defining a normally distributed fatigue spectrum</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># Seed random number generator</span>
<span class="linenos"> 2</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="linenos"> 3</span><span class="c1"># Generate some integers shifted so that their minimum is certainly &gt;0</span>
<span class="linenos"> 4</span><span class="n">random_nums</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">100000</span><span class="p">)</span>
<span class="linenos"> 5</span><span class="n">random_ints</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">random_nums</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">random_nums</span><span class="p">))</span>
<span class="linenos"> 6</span><span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="nb">min</span><span class="p">(</span><span class="n">random_ints</span><span class="p">),</span> <span class="n">stop</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">random_ints</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">hist</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span>
<span class="linenos"> 8</span>    <span class="n">random_ints</span><span class="p">,</span>
<span class="linenos"> 9</span>    <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span>
<span class="linenos">10</span><span class="p">)</span>
<span class="linenos">11</span><span class="n">cycles</span> <span class="o">=</span> <span class="n">hist</span><span class="p">[</span><span class="mi">0</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="c1"># sorted from highest bin to lowest</span>
<span class="linenos">12</span><span class="n">cumulative_cycles</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">cumsum</span><span class="p">(</span><span class="n">cycles</span><span class="p">)</span>
<span class="linenos">13</span><span class="n">stress_range_bins</span> <span class="o">=</span> <span class="p">((</span><span class="n">hist</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">:]</span> <span class="o">+</span> <span class="n">hist</span><span class="p">[</span><span class="mi">1</span><span class="p">][:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Matplotlib</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1">#Plot</span>
<span class="linenos"> 2</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">b1_c</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span>
<span class="linenos"> 3</span>    <span class="n">cycles</span><span class="o">=</span><span class="n">cumulative_cycles</span><span class="p">,</span>
<span class="linenos"> 4</span>    <span class="n">stress_range</span><span class="o">=</span><span class="n">stress_range_bins</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="n">dataset_name</span><span class="o">=</span><span class="s2">&quot;Example data&quot;</span>
<span class="linenos"> 6</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">c_c</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="linenos"> 8</span><span class="n">e_c</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="linenos"> 9</span><span class="n">w3_c</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">fig</span><span class="o">=</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="linenos">10</span><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/sn_curve_11.png" src="../../_images/sn_curve_11.png" />
<p>Reformat SN curve names for plotly</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">b1_c</span><span class="o">.</span><span class="n">format_name</span><span class="p">(</span><span class="n">html_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">2</span><span class="n">c_c</span><span class="o">.</span><span class="n">format_name</span><span class="p">(</span> <span class="n">html_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">3</span><span class="n">e_c</span><span class="o">.</span><span class="n">format_name</span><span class="p">(</span> <span class="n">html_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="linenos">4</span><span class="n">w3_c</span><span class="o">.</span><span class="n">format_name</span><span class="p">(</span><span class="n">html_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Plotly</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="c1"># Plot</span>
<span class="linenos"> 2</span><span class="n">data</span><span class="p">,</span> <span class="n">layout</span> <span class="o">=</span> <span class="n">b1_c</span><span class="o">.</span><span class="n">plotly</span><span class="p">(</span>
<span class="linenos"> 3</span>    <span class="n">cycles</span><span class="o">=</span><span class="n">cumulative_cycles</span><span class="p">,</span>
<span class="linenos"> 4</span>    <span class="n">stress_range</span><span class="o">=</span><span class="n">stress_range_bins</span><span class="p">,</span>
<span class="linenos"> 5</span>    <span class="n">dataset_name</span><span class="o">=</span><span class="s2">&quot;Example data&quot;</span>
<span class="linenos"> 6</span><span class="p">)</span>
<span class="linenos"> 7</span><span class="n">data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">c_c</span><span class="o">.</span><span class="n">plotly</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="linenos"> 8</span><span class="n">data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">e_c</span><span class="o">.</span><span class="n">plotly</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="linenos"> 9</span><span class="n">data</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">w3_c</span><span class="o">.</span><span class="n">plotly</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="linenos">10</span><span class="n">fig</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">layout</span><span class="o">=</span><span class="n">layout</span><span class="p">)</span>
<span class="linenos">11</span><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<img alt="../../_images/sn_curve_2.png" src="../../_images/sn_curve_2.png" />
</section>
<section id="b-sn-curves-methods">
<h2>b. SN curves methods<a class="headerlink" href="#b-sn-curves-methods" title="Permalink to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this example we define two SN curves and we will see how the following
methods work:</p>
<ul class="simple">
<li><p>get_cycles()</p></li>
<li><p>get_stress()</p></li>
<li><p>get_knee_cycles()</p></li>
<li><p>get_knee_stress()</p></li>
</ul>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># SN curve definition</span>
<span class="linenos">2</span><span class="n">s</span> <span class="o">=</span> <span class="n">sn</span><span class="o">.</span><span class="n">SNCurve</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mf">10.970</span><span class="p">,</span> <span class="mf">13.617</span><span class="p">],</span> <span class="n">endurance</span><span class="o">=</span><span class="mf">1e11</span><span class="p">)</span>
</pre></div>
</div>
<p>Asking to print the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># prints</span>
<span class="linenos">2</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">get_cycles</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>  <span class="c1"># Get nr of cycles for stress_range = 100 MPa</span>
<span class="linenos">3</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">get_stress</span><span class="p">(</span><span class="mf">1E6</span><span class="p">))</span>  <span class="c1"># Get nr of cycles for 1 million cycles</span>
<span class="linenos">4</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">get_knee_cycles</span><span class="p">())</span>  <span class="c1"># Get nr of cycles where there is/are knee(s)</span>
<span class="linenos">5</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">get_knee_stress</span><span class="p">())</span>  <span class="c1"># Get stress(es) where there is/are knee(s)</span>
<span class="linenos">6</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">get_stress</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">endurance</span><span class="p">))</span>  <span class="c1"># Get stress at endurance (1e11 cycles)</span>
</pre></div>
</div>
<p>Gives:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">93325</span>.43007969948
<span class="m">45</span>.35933372579283
<span class="o">[</span><span class="m">9988493</span>.69936506<span class="o">]</span>
<span class="o">[</span><span class="m">21</span>.06201899<span class="o">]</span>
<span class="m">3</span>.3373365130514894
</pre></div>
</div>
<p>Asking back the number of cycles at endurance shall return <em>Inf</em> instead.</p>
<p>Input:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">get_cycles</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">endurance_stress</span><span class="p">))</span>  <span class="c1"># Get cycles at endurance stress.</span>
</pre></div>
</div>
<p>Output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>inf
</pre></div>
</div>
</section>
</section>


            </article>
            
            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="01-notebook_setup.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">1. Set up a notebook running <em>py-fatigue</em></p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="03-cg_curve.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">3. Crack growth curve</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#a-multiple-sn-curves">
   a. Multiple SN curves
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#b-sn-curves-methods">
   b. SN curves methods
  </a>
 </li>
</ul>

</nav>
</div>

<div class="toc-item">
  
<div id="searchbox"></div>
</div>

<div class="toc-item">
  
</div>

<div class="toc-item">
  
<div class="tocsection sourcelink">
    <a href="../../_sources/user/examples/02-sn_curve.rst.txt">
        <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
</div>

</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
          </div>
        </footer>
        
      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/pydata-sphinx-theme.js?digest=1e1de1a1873e13ef5536"></script>
 
  <footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
<p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.3.0.<br>
</p>

  </div>
  
</div>
  </footer>

    <style>
        @import url('https://fonts.googleapis.com/css?family=JetBrains%20Mono');
        /* Sidebar header (and topbar for mobile) */
        .wy-side-nav-search, .wy-nav-top {
        background: #A9BCC8;
        }
        /* Sidebar */
        .wy-nav-side {
        background: #384263;
        }
        .toctree-l1:hover .wy-menu {
            background: #3D66A1;
        }
        /* Main content */
        .wy-nav-content {
        background: #FFFFFF;
        }
        .wy-menu .wy-menu-vertical{
            display: block;
            top: -10px;
            margin-right: -25%;
        }
        
        .toctree-l1 li ul li:first-child a {
            border-radius: 4px 4px 0 0;
        }
        .toctree-l1 li ul li:last-child a {
            border-radius: 0 0 4px 4px;
        }
    </style>

  </body>
</html>